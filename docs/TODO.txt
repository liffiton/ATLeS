TODOs and Plans
===============


Enclosure
---------
 - Holes for tank feet for set, consistent tank location
 - Secure, wiggleless mount for camera

Wait on these until we start looking at monitor stimulus again:
 - Integrate frameless LCD display
 ? Add cable routing for HDMI, etc.


Circuits
--------
 - Any way to assemble the circuits w/o soldering?  Currently, the headers have to be soldered on the sensors.
   * Sensors sold w/ headers pre-soldered?
   * Other ways of making connections to the 0.1" spaced holes?


FishWeb / Analyze
-----------------

Automatically calculate / report the following outcomes (all per-minute, also get overall):

  A. latency to enter upper half (time of first entry into top half)
  B. time spent in upper half by minute
  C. # of transitions to upper half by minute
  D. # of freezing bouts (no movement for more than 2 seconds) by minute
  E. total time spent freezing by minute
  F. total distance traveled by minute
  G. average velocity by minute

Compute general statistics to be used for identifying startle response
and/or behavior change in "absolute" darkness:
  - Mean, median, max of:
    - x position
    - y position
    - speed
    - x speed
    - y speed
    - acceleration magnitude
    - x acceleration magnitude
    - y acceleration magnitude


FishBox [.py]
-------------

Flashing Light Stimulus:
 - At start, when not flashing, and at exit: set brightness to match lab ambient.
   - Measure lab ambient w/ light sensor is set location
   - Adjust lightbar w/ box closed until matched -- record value

Big / Important:
 - Separate out experiment configuration from experiment.py
   - Somehow include in a .ini file or something else that can be saved alongside each experiment's data.
 - Make background subtractor adaptive, modifying sensitivity to hit 1 detection exactly. (See babyfish code.)

Medium:
 - Utility to create an .ini file interactively (w/ camera view, clicking,
   etc.)
 - Save video (if possible)
 - Save frame (and result of background subtraction) when status first becomes
   "missing" for troubleshooting
 - Report m/s velocities in analyze.py (requires figuring out best way to get
   different position data (frame- and tank-coords and tank phys size) into
   analyze.py...)

Testing/validation:
 - Record a few real-world videos of fish w/ new setup and correct .ini files
   to match
 - Check carefully how invalid entries ['lost'] will affect collected metrics

Bugs:
