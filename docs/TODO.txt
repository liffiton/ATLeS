TODOs and Plans
===============


Enclosure
---------
 - Holes for tank feet for set, consistent tank location
 - Secure, wiggleless mount for camera
 - Slide-in tank from side
 - Stackable/rackable design

Wait on these until we start looking at monitor stimulus again:
 - Integrate frameless LCD display
 ? Add cable routing for HDMI, etc.


Circuits
--------
 - Any way to assemble the circuits w/o soldering?  Currently, the headers have to be soldered on the sensors.
   * Sensors sold w/ headers pre-soldered?
   * Other ways of making connections to the 0.1" spaced holes?


Software (overall)
------------------
 - Determine simple process for imaging new Pis


FishWeb / Analyze
-----------------
 - Stay on experiment creation page when submitting/creating a new experiment
   - Use is to just submit same experiment again and again...
 - :?: When does the data output/recording start?  How is that indicated?
 - Experiment progress indicator should know when timing actually started

BUGS:
 - Kill/clear experiment leaves camera in unusable state until reboot


FishBox [.py]
-------------

Big / Important:
 - Switch to pigpio library for PWM -- runs separate daemon as root, all rest
   as unprivileged user.
 - Make background subtractor adaptive, modifying sensitivity to hit 1
   detection exactly. (See babyfish code.)
 - Record image at start and end (and other times?) of experiment

Medium:
 - Utility to create an .ini file interactively (w/ camera view, clicking,
   etc.)
 - Save video (if possible)
 - Save frame (and result of background subtraction) when status first becomes
   "missing" for troubleshooting
 - Report m/s velocities in analyze.py (requires figuring out best way to get
   different position data (frame- and tank-coords and tank phys size) into
   analyze.py...)

Testing/validation:
 - Record a few real-world videos of fish w/ new setup and correct .ini files
   to match
 - Check carefully how invalid entries ['lost'] will affect collected metrics

BUGS:
 - --time-from-trigger crashes on first trigger on commandline.
   (error about signal() can only be called from main thread)

